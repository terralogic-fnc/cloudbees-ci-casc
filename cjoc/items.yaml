removeStrategy:
  items: SYNC
  rbac: SYNC

items:
  - kind: managedController
    name: mc-blue
    displayName: Blue Controller
    description: Blue environment controller

    properties:
      # CasC bundle binding
      - configurationAsCode:
          bundle: mc-blue

      # Licensing
      - licensing:
          strategy:
            perUserLicensingStrategy: {}

      # Controller runtime configuration
      - configuration:
          kubernetes:
            # HA + autoscaling
            replication:
              enabled: true
              minReplicas: 2
              maxReplicas: 3
              targetCPUUtilizationPercentage: 70

            # Resources per replica
            memory: 3072
            cpus: 1.0
            disk: 50

            # Controller subdomain
            domain: blue
