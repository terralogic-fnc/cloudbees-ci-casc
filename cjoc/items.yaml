removeStrategy:
  items: SYNC
  rbac: SYNC

items:
  - kind: managedController
    name: mc-blue
    displayName: Blue Controller
    description: Blue environment controller

    properties:
      - configurationAsCode:
          bundle: mc-blue

      - licensing:
          strategy:
            perUserLicensingStrategy: {}

      - healthReporting:
          enabled: true

    configuration:
      kubernetes:
        clusterEndpointId: default
        allowExternalAgents: false

        replication:
          config:
            replicas: 2
            maxReplicas: 3
            targetCPUUtilizationPercentage: 70

        memory: 3072
        cpus: 1.0
        disk: 50
        fsGroup: "1000"

        terminationGracePeriodSeconds: 1200
        readinessInitialDelaySeconds: 30
        readinessTimeoutSeconds: 5
        readinessFailureThreshold: 100
        livenessInitialDelaySeconds: 300
        livenessPeriodSeconds: 10
        livenessTimeoutSeconds: 10

        domain: blue
